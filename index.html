<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.5, maximum-scale=3.0">
<meta property="og:image" content="https://pbs.twimg.com/profile_images/1887582914608607232/zdmOHy16_400x400.jpg"/>
<link rel="icon" href="data:image/vnd.microsoft.icon;base64,AAABAAMAMDAAAAEAIACoJQAANgAAACAgAAABACAAqBAAAN4lAAAQEAAAAQAgAGgEAACGNgAAKAAAADAAAABgAAAAAQAgAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlS/3QZYx+MyWMfjMljH4zJYx+MyVMfeYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACqVf8DlTL2Upcy95+WMPfDljH4zJYx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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///////wAA////////AAD///////8AAP///////wAA////////AAD///////8AAP///////wAA////////AAD///////8AAP///////wAA////////AAD///////8AAP///////wAA/B//AAf/AAD8H/wAAf8AAPwf+AAA/wAA/B/wAAB/AAD8H/AAAD8AAPwf4H/wPwAA/B/g//g/AAD8H+D/+D8AAPwf4P/4PwAA/B/gABg/AAD8H/AAGD8AAPwf8AAYPwAA/B/4ABg/AAD8H/4AGD8AAPwf///4PwAA/A////g/AAD+A///8D8AAP4AAAAAPwAA/wAAAAB/AAD/gAAAAP8AAP/gAAAB/wAA//gAAAf/AAD///////8AAP///////wAA////////AAD///////8AAP///////wAA////////AAD///////8AAP///////wAA////////AAD///////8AAP///////wAA////////AAD///////8AACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiy7/C5Yy9TOWMvUzljL1M59A/wgAAAAAAAAAAAAA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9/+WMff/ljH3/5Yx9/+WMff/ljH3/5Yx9/+WMff/ljH3/5Yx9/+WMff/ljH3/5Yx9/6WMfe/lC/5KwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAQP8EmDD4JZYy9TOWMvUzljL1M5Yy9TOWMvUzljL1M5Yy9TOWMvUzljL1M5Yy9TOWMvUzljL1M5Yy9TOWMvUzkjHzFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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">
<title>ArchStepBoyz Index</title>

<link rel="stylesheet" href="styles.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fugaz+One&family=Oswald:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

</head>

<body>
<div class="Header__Wrapper">"
<div class="Header">
<img src="https://pbs.twimg.com/profile_images/1887582914608607232/zdmOHy16_400x400.jpg" alt="Logo" class="Header__Logo">
<div class="Header__Text">
  <h1 class="Header__Title">ArchStepBoyz</h1>
  <span class="Header__Subtitle">Index</span>
</div>
</div>

<div class="Auth-Container">
  <button id="loginBtn" class="Login-Trigger" onclick="openLoginModal()">
    <i class="fa-solid fa-user"></i> Login
  </button>

  <div id="userMenu" class="User-Menu" style="display: none;">
    <button class="User-Trigger" onclick="toggleUserDropdown(event)">
      <span id="userDisplay">User</span> <i class="fa-solid fa-caret-down"></i>
    </button>
    
    <div id="userDropdown" class="User-Dropdown">
      <a href="#" class="Dropdown-Item" onclick="alert('Profile Settings coming soon!')">
        <i class="fa-solid fa-gear"></i> Settings
      </a>
      <div class="Dropdown-Divider"></div>
      <a href="#" class="Dropdown-Item is-danger" onclick="handleLogout()">
        <i class="fa-solid fa-right-from-bracket"></i> Sign Out
      </a>
    </div>
  </div>
</div>
</div>

<div class="Menu-Options">
<div class="Week-Selector">
<select class="Week-Select-Input">
  <option value="6" selected>Week 6</option>
  <option value="5">Week 5</option>
  <option value="4">Week 4</option>
  <option value="3">Week 3</option>
  <option value="2">Week 2</option>
  <option value="1">Week 1</option>
</select>
<div class="Week-Icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
</div>
</div>

<div class="View-Toggle">
<button class="Toggle-Btn active" id="gridViewBtn">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 10h4v4h-4zm6 0h4v4h-4zM4 10h4v4H4zM10 4h4v4h-4zm6 0h4v4h-4zM4 4h4v4H4zm6 12h4v4h-4zm6 0h4v4h-4zM4 16h4v4H4z"/></svg>
  Rank
</button>
<button class="Toggle-Btn" id="listViewBtn">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/></svg>
  PBL
</button>
</div>
</div>

<div class="table-container">
<table id="CONF_TABLE">
<thead class="Table__THEAD">
<tr class="Table__TR Table__TR--sm Table__even" data-idx="0" style="height: auto;">
<th class="Table__TH rank-cell">
  <div></div>
</th>
<!-- ACC  -->
<th class="Table__TH">
  <div class="team-link flex items-centerclr-gray-03">
    <span class="pr4 TeamLink__Logo">
    <a class="AnchorLink" tabindex="0" data-clubhouse-uid="s:40~l:41~t:150" href="https://theacc.com/standings.aspx?path=mbball">
    <img alt="ACC" class="Image Logo Logo__sm" title="ACC" data-mptype="image" src="https://a1.espncdn.com/combiner/i?img=/i/teamlogos/ncaa_conf/500/1.png&amp;h=200&amp;w=200">
    </a>
    </span>
  </div>
</th>
<!-- Big 12  -->
<th class="Table__TH">
  <div class="team-link flex items-centerclr-gray-03">
    <span class="pr4 TeamLink__Logo">
    <a class="AnchorLink" tabindex="0" data-clubhouse-uid="s:40~l:41~t:150" href="https://big12sports.com/standings.aspx?path=mbball">
    <img alt="ACC" class="Image Logo Logo__sm" title="Big 12" data-mptype="image" src="https://a1.espncdn.com/combiner/i?img=/i/teamlogos/ncaa_conf/500/4.png&amp;h=200&amp;w=200">
    </a>
    </span>
  </div>
</th>
<!-- Big East  -->
<th class="Table__TH">
  <div class="team-link flex items-centerclr-gray-03">
    <span class="pr4 TeamLink__Logo">
    <a class="AnchorLink" tabindex="0" data-clubhouse-uid="s:40~l:41~t:150" href="https://www.bigeast.com/standings.aspx?path=mbball">
    <img alt="ACC" width="40" height="35" class="Image Logo Logo__sm" title="Big 12" data-mptype="image" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Big_East_Conference_logo_stacked.svg/1200px-Big_East_Conference_logo_stacked.svg.png">
    </a>
    </span>
  </div>
</th>
<!-- Big Ten  -->
<th class="Table__TH">
  <div class="team-link flex items-centerclr-gray-03">
    <span class="pr4 TeamLink__Logo">
    <a class="AnchorLink" tabindex="0" data-clubhouse-uid="s:40~l:41~t:150" href="https://bigten.org/mbb/standings/">
    <img alt="ACC" class="Image Logo Logo__sm" title="Big 12" data-mptype="image" src="https://a1.espncdn.com/combiner/i?img=/i/teamlogos/ncaa_conf/500/5.png&amp;h=200&amp;w=200">
    </a>
    </span>
  </div>
</th>
<!-- SEC  -->
<th class="Table__TH">
  <div class="team-link flex items-centerclr-gray-03">
    <span class="pr4 TeamLink__Logo">
    <a class="AnchorLink" tabindex="0" data-clubhouse-uid="s:40~l:41~t:150" href="https://www.secsports.com/standings/basketball-m">
    <img alt="ACC" class="Image Logo Logo__sm" title="Big 12" data-mptype="image" src="https://a1.espncdn.com/combiner/i?img=/i/teamlogos/ncaa_conf/500/8.png&amp;h=200&amp;w=200">
    </a>
    </span>
  </div>
</th>
<!-- Mid-Major  -->
<th class="Table__TH">
  <div class="team-link flex items-centerclr-gray-03">
    <span class="pr4 TeamLink__Logo">
    <p>Mid-Major</p> 
    </span>
  </div>
</th>
</tr>
</thead>
<tbody class="Table__TBODY">
<!-- 1  -->
<tr class="Table__TR Table__TR--sm Table__even rank-1" data-idx="1" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">1</div>
</td>
</tr>
<!-- 2  -->
<tr class="Table__TR Table__TR--sm Table__even rank-2" data-idx="2" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">2</div>
</td>
</tr>
<!-- 3  -->
<tr class="Table__TR Table__TR--sm Table__even rank-3" data-idx="3" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">3</div>
</td>
</tr>
<!-- 4  -->
<tr class="Table__TR Table__TR--sm Table__even" data-idx="4" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">4</div>
</td>
</tr>
<!-- 5  -->
<tr class="filled Table__TR Table__TR--sm Table__even" data-idx="5" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">5</div>
</td>
</tr>
<!-- 6  -->
<tr class="Table__TR Table__TR--sm Table__even" data-idx="6" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">6</div>
</td>
</tr>
<!-- 7  -->
<tr class="filled Table__TR Table__TR--sm Table__even" data-idx="7" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">7</div>
</td>
</tr>
<!-- 8  -->
<tr class="filled Table__TR Table__TR--sm Table__even" data-idx="8" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">8</div>
</td>
</tr>
<!-- 9  -->
<tr class="filled Table__TR Table__TR--sm Table__even" data-idx="9" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">9</div>
</td>
</tr>
<!-- 10  -->
<tr class="Table__TR Table__TR--sm Table__even" data-idx="10" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">10</div>
</td>
</tr>
<!-- 11  -->
<tr class="Table__TR Table__TR--sm Table__even" data-idx="11" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">11</div>
</td>
</tr>
<!-- 12  -->
<tr class="Table__TR Table__TR--sm Table__even" data-idx="12" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">12</div>
</td>
</tr>
<!-- 13  -->
<tr class="filled Table__TR Table__TR--sm Table__even" data-idx="13" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">13</div>
</td>
</tr>
<!-- 14  -->
<tr class="is-favorite filled Table__TR Table__TR--sm Table__even" data-idx="14" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">14</div>
</td>
</tr>
<!-- 15  -->
<tr class="Table__TR Table__TR--sm Table__even" data-idx="15" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">15</div>
</td>
</tr>
<!-- 16  -->
<tr class="filled Table__TR Table__TR--sm Table__even" data-idx="16" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">16</div>
</td>
</tr>
<!-- 17  -->
<tr class="Table__TR Table__TR--sm Table__even" data-idx="17" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">17</div>
</td>
</tr>
<!-- 18  -->
<tr class="filled Table__TR Table__TR--sm Table__even" data-idx="18" style="height: auto;">
<td class="Table__TD rank-cell">
  <div class="bball-rank">18</div>
</td>
</tr>
</tbody>
</table>
</div>

<div class="list-container">
<header>
<h1>PBL</h1>
<p class="subheader">
Rules: These teams and/or players cannot, under any circumstances, be a part of a group parlay (1 or more persons), unless expressly approved by a group majority vote. 
</p>
<p class="subheader">
<i>Last updated: 12.20.2025</i>
</p>
</header>

<ol class="ranking-list"> 
    <li class="team-row">
        <span class="rank">1</span>
        <span class="pr4 TeamLink__Logo rm_space_test">
          <a class="AnchorLink" tabindex="0" href="https://www.espn.com/mens-college-basketball/team/stats/_/id/96" target="_blank" rel="noopener noreferrer">
            <img 
              alt="${team.name}" 
              class="Image Logo Logo__tall" 
              title="${team.name}" 
              data-mptype="image" 
              src="https://vault.demo.pactsafe.io/s/96c8b125-26a4-4edd-8eef-2087f7428019/assets/rIQ4i1YKR.jpg"
            >
          </a>
        </span>
        <div class="team-name">Mark Anti-Pope</div>
        <div class="stats-container">
            <div class="stat-col">
                <span class="stat-value">9-4</span>
                <span class="stat-label">REC</span>
            </div>
            <div class="stat-col">
                <span class="stat-value streak-win">W4</span>
                <span class="stat-label">STRK</span>
            </div>
        </div>
    </li>

    <li class="team-row">
        <span class="rank">2</span>
        <span class="pr4 TeamLink__Logo rm_space_test">
          <a class="AnchorLink" tabindex="0" href="https://www.espn.com/mens-college-basketball/team/stats/_/id/152" target="_blank" rel="noopener noreferrer">
            <img 
              alt="${team.name}" 
              class="Image Logo Logo__sm" 
              title="${team.name}" 
              data-mptype="image" 
              src="https://a.espncdn.com/combiner/i?img=/i/teamlogos/ncaa/500/152.png&h=200&w=200"
            >
          </a>
        </span>
        <div class="team-name">Will Fade</div>
        <div class="stats-container">
            <div class="stat-col">
                <span class="stat-value">9-4</span>
                <span class="stat-label">REC</span>
            </div>
            <div class="stat-col">
                <span class="stat-value streak-win">W2</span>
                <span class="stat-label">STRK</span>
            </div>
        </div>
    </li>
</ol>
</div>

<div class="Drawer" id="commentDrawer">
<div class="Drawer__Header">
<h3 class="Drawer__Title">Cell Comments</h3>
<button class="Drawer__Close" onclick="closeDrawer()"><i class="fa-solid fa-xmark"></i></button>
</div>

<div class="Drawer__Content" id="drawerContent">
<div style="text-align:center; color: rgba(255,255,255,0.3); margin-top: 50px;">
  <i class="fa-regular fa-comments" style="font-size: 30px; margin-bottom:10px;"></i><br>
  No comments yet.<br>Start the discussion!
</div>
</div>

<div class="Drawer__Footer" style="position: relative;"> <div id="mentionList" class="Mention-List">
    </div>

  <div class="Input-Group">
    <input type="text" id="commentInput" class="Input-Field" placeholder="Type a comment... (@ to mention)" autocomplete="off">
    <button class="Send-Btn" id="sendBtn" onclick="submitComment()"><i class="fa-solid fa-paper-plane"></i></button>
  </div>
</div>
</div>

<div id="loginOverlay" class="Modal-Overlay" onclick="closeLoginModal(event)">
  <div class="Modal-Box Auth-Box">
    <button class="Modal-Close" onclick="closeLoginModal()"><i class="fa-solid fa-xmark"></i></button>

    <div class="Auth-Slider" id="authSlider">
      
      <div class="Auth-View" id="view-login">
        <div class="Modal-Header">
          <h2>Welcome Back</h2>
          <p>Enter your credentials to access the full experience.</p>
        </div>
        <form class="Login-Form" onsubmit="handleLogin(event)">
          <div class="Input-Wrapper">
            <label>Email</label>
            <input type="text" id="username" placeholder="Email" required>
          </div>
          <div class="Input-Wrapper">
            <label>Password</label>
            <input type="password" id="password" placeholder="Password" required>
          </div>
          <button type="submit" class="Submit-Btn">Sign In</button>
        </form>
        <div class="Auth-Toggle">
          <a onclick="forgotPassword()">Forgot password</a>
        </div>
        <div class="Auth-Toggle">
          Don't have an account? <a onclick="toggleAuthMode('signup')">Sign Up</a>
        </div>
      </div>

<div class="Auth-View" id="view-signup">
  <div id="signup-content">
  <div class="Modal-Header">
    <h2>Join the Squad</h2>
    <p>Create an account to join the discussion.</p>
  </div>
  
  <form class="Login-Form" onsubmit="handleSignup(event)">
    <div class="Input-Wrapper">
      <label>Choose Username <span class="req">*</span></label>
      <input type="text" id="new-username" placeholder="CoolName123" required>
    </div>
    
    <div class="Input-Wrapper">
      <label>Email Address <span class="req">*</span></label>
      <input type="email" id="new-email" placeholder="you@example.com" required>
    </div>
    
    <div class="Input-Wrapper">
      <label>Password <span class="req">*</span></label>
      <input type="password" id="new-password" placeholder="••••••••" required onblur="validateInputs()">
      <div class="Input-Help">Must be at least 8 characters.</div>
    </div>

    <div class="Input-Wrapper">
      <label>Referral Code <span class="req">*</span></label>
      <input type="text" id="new-referral" placeholder="ARCH-XYZ" required autocomplete="off" onblur="validateInputs()">
      <div class="Input-Help">Obtain this from a founding ArchStepBoyz member.</div>
    </div>

    <div id="signup-error-msg" class="Form-Error" style="display: none;"></div>

    <button type="submit" class="Submit-Btn btn-secondary">Create Account</button>
  </form>

  <div class="Auth-Toggle">
    Already a member? <a onclick="toggleAuthMode('login')">Sign In</a>
  </div>
</div>

  <div id="signup-success" class="Success-View" style="display: none;">
    <div class="Success-Icon">
      <i class="fa-solid fa-envelope-circle-check"></i>
    </div>
    <h2>Verify Email</h2>
    <p>Welcome to the team! We've sent a verification link to your inbox.</p>
    <button class="Submit-Btn" onclick="resetSignupView()">Got it!</button>
  </div>
</div>

    </div>
  </div>
</div>

</body>
<script>

/* GLOBAL VARS */

const DB_URL = 'https://qeuvposbesblckyuflbd.supabase.co';
const TEAMS_ENDPOINT = 'https://qeuvposbesblckyuflbd.supabase.co/rest/v1/Teams?order=conf.asc,conf_pos.asc';
const COMMENTS_ENDPOINT = 'https://qeuvposbesblckyuflbd.supabase.co/rest/v1/Comments';
const USERS_ENDPOINT = 'https://qeuvposbesblckyuflbd.supabase.co/rest/v1/Users';

const ANON_API_KEY = 'sb_publishable_mZVo1bfw-ChB9iCx1V5QwA_UUKrCx8o';

const db_client = supabase.createClient(DB_URL, ANON_API_KEY);

let  CACHED_COMMENTS_DB = [];
let AUTHED_USER = null;
let currentCellId = null;

/* HELPER METHODS */

async function getCityFromIP() {
  try {
    const response = await fetch('https://ipapi.co/json');
    const data = await response.json();
    const city = data.city;
    const region = data.region;
    return `${city}/${region}`;
  } catch (e) {
    return 'New York/New York';
  }
}

/* DB API Requests */
async function apiReq(url, method, data) {
  try {
    const response = await fetch(url, {
      method: method, 
      headers: {
        'Content-Type': 'application/json',
        'Authorization': ANON_API_KEY,
        'apikey': ANON_API_KEY,
      },
      body: data == null ? null : JSON.stringify(data) 
    });
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    if (method === 'GET') {
      const responseData = await response.json();
      return responseData;
    } else {
      return;
    }
  } catch (error) {
    console.error('Fetch error:', error);
    throw error;
  }
}

async function fetchTeams() {
  return apiReq(TEAMS_ENDPOINT, 'GET');
}

async function isUserSignedIn() {
  const data = await db_client.auth.getSession();
  if (data?.session) {
    AUTHED_USER = data.session.user?.user_metadata;
    authedUserDisplay();
  }
}

/* PAGE INITIALIZATION */

document.addEventListener('DOMContentLoaded', (event) => {
  const inputField = document.getElementById('commentInput');
  const sendButton = document.getElementById('sendBtn');

  inputField.addEventListener('keydown', function(event) {
    if (event.key === 'Enter') {
      event.preventDefault(); 
      sendButton.click(); 
    }
  });

  const gridBtn = document.getElementById('gridViewBtn');
  const listBtn = document.getElementById('listViewBtn');
  const mainContent = document.getElementById('MainContent');

  function switchToGrid() {
    gridBtn.classList.add('active');
    listBtn.classList.remove('active');

    const list = document.querySelector('.list-container');
    list.style.display = 'none';
    const table = document.querySelector('.table-container');
    table.style.display = 'flex';
  }

  function switchToList() {
    listBtn.classList.add('active');
    gridBtn.classList.remove('active');

    const table = document.querySelector('.table-container');
    table.style.display = 'none';
    const list = document.querySelector('.list-container');
    list.style.display = 'flex';
  }
  
  gridBtn.addEventListener('click', switchToGrid);
  listBtn.addEventListener('click', switchToList);

  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);
  const view = urlParams.get('view');
  const chat = urlParams.get('chat');

  switch (view) {
    case 'PBL':
      switchToList();
      break;
    default:
      switchToGrid();
  }
  
  /* POPULATE TABLE */
  fetchTeams().then( (res) => {
    fetchComments().then( (comments) => {
      CACHED_COMMENTS_DB = comments.data;
      appendTeamCells(res);

      const header = document.querySelector('.Table__THEAD');
      setTimeout(() => {
        header.classList.add('header-enter');
      }, 100); 

      const rows = document.querySelectorAll('.Table__TBODY .Table__TR');
      rows.forEach((row, index) => {
        setTimeout(() => {
          row.classList.add('row-enter');
        }, 300 + (index * 100)); // Start rows 300ms in, then cascade
      }); 

      const cells = document.querySelectorAll('.Table__TD');
      cells.forEach(cell => {
        const team = cell.getAttribute('data-cell-name');
        if(CACHED_COMMENTS_DB?.filter(comment => comment.team === team).length > 0) {
          cell.classList.add('has-comments');
        }
        cell.addEventListener('click', () => openDrawer(cell) );
        if (chat && team === chat) {
          cell.click();
        }
      });
    });
  });

  db_client.auth.onAuthStateChange((event, session) => {
    AUTHED_USER = session?.user?.user_metadata;
    if (AUTHED_USER) {
      authedUserDisplay();
    }
  });

  isUserSignedIn();
});

/* TABLE GRID FORMAT HELPER */
const appendTeamCells = (data) => {
  const placeholderHtmlString = `
    <!-- X  -->
    <td class="Table__TD">
    </td>
    `;

  data.forEach((team, idx) => {
    const item = document.querySelector(`tr[data-idx="${team.conf_pos}"]`);
  
    const htmlString = `
      <td class="Table__TD" ext-id="${team.id}" data-cell-id="${team.conf}-${team.conf_pos-1}" data-cell-name="${team.name}">
        <div class="team-link flex items-centerclr-gray-03 mascot-row mascot-row">
          <span class="pr4 TeamLink__Logo">
            <!-- <a class="AnchorLink" tabindex="0" href="https://www.espn.com/mens-college-basketball/team/stats/_/id/${team.id}" target="_blank" rel="noopener noreferrer"> -->
            <img 
              alt="${team.name}" 
              class="Image Logo Logo__sm" 
              title="${team.name}" 
              data-mptype="image" 
              src="https://a.espncdn.com/combiner/i?img=/i/teamlogos/ncaa/500/${team.id}.png&h=200&w=200"
            >
            <!-- </a> --->
          </span>
          <div class="meta-stack">
            ${team.change > 0 ?
            '<div class="trend-tag trend-up"><i>&#9650;</i>' + team.change.toString() + '</div>' :
            team.change < 0 ?
            '<div class="trend-tag trend-down"><i>&#9660;</i>' + (-1 * team.change).toString() + '</div>' :
            '<div class="trend-tag trend-neutral"><span class="dash-bar"></span></div>'}
            ${team.rank != null ? '<div class="ovr-tag">#' + team.rank.toString() + '</div>' : ''}
          </div>
        </div>
      </td>
      `;

    while(item.childElementCount-1 < team.conf && team.conf != 999 && item.childElementCount < 15) {
      item.insertAdjacentHTML('beforeend', placeholderHtmlString);
    }
    item.insertAdjacentHTML('beforeend', htmlString);
  });
};

/* COMMENTS */

/* DB LOOKUPS (ASYNC) */
async function fetchComments() {
  return db_client.from('Comments').select('*');
}

async function postComment(data) {
  return db_client.from('Comments').insert([data]);
}

async function deleteComment(commentId) {
  return db_client.from('Comments').delete().eq('id', commentId);
}

/* UI METHODS */
function updateCellIndicator() {
  const cell = document.querySelector(`.Table__TD[data-cell-id="${currentCellId}"]`);
  if (cell) cell.classList.add('has-comments');
}

function closeDrawer() {
  document.getElementById('commentDrawer').classList.remove('open');
  currentCellId = null;
}

async function openDrawer(cell) {
  if(event.target.closest('a')) return;

  closeDrawer();
  currentCellId = cell.getAttribute('data-cell-name');
  
  await renderComments();

  document.querySelector('.Drawer__Title').innerHTML = `
    <a 
      class="AnchorLink" 
      style="text-decoration: none; color: white;" 
      tabindex="0" 
      href="https://www.espn.com/mens-college-basketball/team/stats/_/id/${cell.getAttribute('ext-id')}" 
      target="_blank" 
      rel="noopener noreferrer"
  >
    <img 
      alt="${cell.getAttribute('data-cell-name')}" 
      class="Image Logo Logo__sm" 
      title="${cell.getAttribute('data-cell-name')}" 
      data-mptype="image" 
      src="https://a.espncdn.com/combiner/i?img=/i/teamlogos/ncaa/500/${cell.getAttribute('ext-id')}.png&h=200&w=200"
    >
  </a>
  `;
    
  setTimeout(() => {
    document.getElementById('commentDrawer').classList.add('open');
  }, 300); // TODO: shouldn't need this hardcoded timeout; add an await above for rednder comments 
}


async function renderComments() {
  const container = document.getElementById('drawerContent');
    
  const comments = await fetchComments();
  CACHED_COMMENTS_DB = comments.data;
      
    const main_comments = CACHED_COMMENTS_DB?.filter(comment => comment.team === currentCellId && comment.reply_to_id == null) ?? [];
    
    if (main_comments.length === 0) {
      container.innerHTML = `
        <div style="text-align:center; color: rgba(255,255,255,0.3); margin-top: 50px;">
        <i class="fa-regular fa-comments" style="font-size: 30px; margin-bottom:10px;"></i><br>
        No comments yet.<br>Start the discussion!
        </div>`;
      return;
    }

    let html = '';
    main_comments.forEach(comment => {
      const replies = CACHED_COMMENTS_DB?.filter(c => c.reply_to_id == comment.id);
      
      const isAdmin = comment.author === 'Admin';
      const adminBadgeHTML = isAdmin 
        ? `<span class="Admin-Badge"><i class="fa-solid fa-thumbtack"></i> Pinned</span>` 
        : '';

      const deleteVisibilityClass = (AUTHED_USER != null && AUTHED_USER.username === 'fearthebeak') ? 'is-visible' : '';

      html += `
        <div class="Comment-Item">
          <div class="Comment-Box ${isAdmin ? 'is-admin' : ''}">
            <div class="Comment-Header">
              <span class="Comment-User">
                ${comment.author}
                ${adminBadgeHTML} 
                <span style="font-weight:400; color:#aaa; margin-left:5px;">
                  (${new Date(comment.created_at).toLocaleString(navigator.language, { dateStyle: 'medium', timeStyle: 'short' })})
                </span>
              </span>

              <button class="delete-btn ${deleteVisibilityClass}" aria-label="Delete" onclick="deleteCommentModal(${comment.id})">&times;</button>
            </div>

            <p class="Comment-Text">${formatMentions(comment.message)}</p>
      
            <button class="Reply-Btn" onclick="toggleReply(${comment.id})">Reply</button>
    
            <div id="reply-input-${comment.id}" class="Input-Group" style="display:none; margin-top:10px;">
              <input type="text" id="reply-text-${comment.id}" class="Input-Field" placeholder="Reply..." style="font-size: 16px; padding: 5px;">
              <button id="reply-submit-${comment.id}" class="Send-Btn" onclick="submitReply(${comment.id})" style="padding: 2px 10px; font-size: 16px;">Send</button>
            </div>
          </div>
  
          <div class="Reply-List">
            ${replies?.map(reply => `
              <div class="Comment-Box" style="margin-top: 10px; background: rgba(255,255,255,0.03);">
                <div class="Comment-Header">
                  <span class="Comment-User" style="color: #2ed573">
                    ${reply.author}
                    <span style="font-weight:400; color:#aaa; margin-left:5px;">
                      (${new Date(reply.created_at).toLocaleString(navigator.language, { dateStyle: 'medium', timeStyle: 'short' })})
                    </span>
                  </span>
                  <button class="delete-btn ${deleteVisibilityClass}" style="background-color: #05714b;" aria-label="Delete" onclick="deleteCommentModal(${reply.id})">&times;</button>
                </div>
                <p class="Comment-Text">${reply.message}</p>
              </div>
            `).join('')}
          </div>
        </div>
        `;
    
    });

    container.innerHTML = html;

    main_comments.forEach(comment => {
      const inputField = document.getElementById(`reply-input-${comment.id}`);
      const sendButton = document.getElementById(`reply-submit-${comment.id}`);

      inputField.addEventListener('keydown', function(event) {
        if (event.key === 'Enter') {
          event.preventDefault(); 
          sendButton.click(); 
        }
      });
    });
}
 
function toggleReply(commentId) {
  const el = document.getElementById(`reply-input-${commentId}`);
  if (el.style.display === 'flex') {
    el.style.display = 'none';
  } else {
    el.style.display = 'flex';
  }
}

async function deleteCommentModal (commentId) {
  const children = CACHED_COMMENTS_DB.filter(c => c.reply_to_id === commentId);
  
  if (children.length > 0) {
    await Promise.all(children.map(c => deleteComment(c.id)));
  }
  await deleteComment(commentId);
  await renderComments();
  updateCellIndicator();
}

async function submitComment() {
  const input = document.getElementById('commentInput');
  const text = input.value.trim();
  if (!text) return;

  const mentions = getValidMentions(text).map(mention => mention.email);

  const city = await getCityFromIP();
  await postComment({
    author: AUTHED_USER != null ? AUTHED_USER.username : city, 
    message: text,
    team: currentCellId,
    mentions: mentions,
  });
  
  input.value = '';
  await renderComments();
  updateCellIndicator();
}

async function submitReply(parentId) {
  const input = document.getElementById(`reply-text-${parentId}`);
  const text = input.value.trim();
  if (!text) return;

  const parentComment = CACHED_COMMENTS_DB.find(c => c.team === currentCellId && c.id === parentId);
    
  if (parentComment) {
    const city = await getCityFromIP();
    await postComment({
      author: AUTHED_USER != null ? AUTHED_USER.username : city,
      message: text,
      team: currentCellId,
      reply_to_id: parentId,
    });
  }
  await renderComments();
}

// TODO: initialization
let  MOCK_USERS = [];
const MOCK_USERS2 = db_client
  .from('Profiles')
  .select('username, email').then ((res) => {
    MOCK_USERS = res.data;
  });

const inputField = document.getElementById('commentInput');
const mentionList = document.getElementById('mentionList');

inputField.addEventListener('input', function(e) {
  const value = e.target.value;
  const cursor = e.target.selectionStart;
  
  // Find the word being typed at the cursor
  const textBeforeCursor = value.slice(0, cursor);
  //TODO: spaces...
  const words = textBeforeCursor.split(/\s+/); 
  const currentWord = words[words.length - 1];

  // Check if current word starts with @
  if (currentWord.startsWith('@')) {
    const query = currentWord.slice(1).toLowerCase();
    showSuggestions(query, cursor);
  } else {
    hideSuggestions();
  }
});

/* --- PARSER FUNCTION --- */
function getValidMentions(inputText) {
  if (!inputText) return [];

  // 1. Sort users by name length (Longest -> Shortest)
  // This prevents "Hoops" from matching inside "@Hoops Fan"
  const sortedUsers = [...MOCK_USERS].sort((a, b) => b.username.length - a.username.length);

  // 2. Escape special regex characters in names (like ., ?, etc.)
  // This keeps the regex safe if a user is named "Mr. Smith"
  const escapeRegex = (str) => str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');

  // 3. Create the Pipe-Separated Pattern
  // Result looks like: (Hoops Fan|Net Ripper|Dr\. Dunk|Admin|Hoops)
  const namesPattern = sortedUsers.map(u => escapeRegex(u.username)).join('|');

  // 4. Build the Full Regex
  // @       -> Look for the @ symbol
  // (...)   -> Match one of our names
  // (?!\w)  -> Negative Lookahead: Ensure the NEXT char is NOT a word character
  //            (Prevents matching "@Admin" inside "@Administrator")
  const regex = new RegExp(`@(${namesPattern})(?!\\w)`, 'gi');

  // 5. Execute Match
  const matches = [...inputText.matchAll(regex)];

  // 6. Map matches back to full User Objects
  const foundUsers = matches.map(match => {
    // match[1] contains the captured name (e.g., "Hoops Fan")
    // We use find() to get the original object with case-insensitivity
    return MOCK_USERS.find(u => u.username.toLowerCase() === match[1].toLowerCase());
  });

  // 7. Deduplicate (Remove duplicates if user mentioned same person twice)
  const uniqueUsers = [...new Map(foundUsers.map(u => [u.username, u])).values()];

  return uniqueUsers;
}

function showSuggestions(query, cursorPos) {
  // Filter Users
  const matches = MOCK_USERS.filter(u => u.username.toLowerCase().includes(query));
  
  if (matches.length === 0) {
    hideSuggestions();
    return;
  }

  // Build HTML
  mentionList.innerHTML = matches.map(u => `
    <div class="Mention-Item" onclick="insertMention('${u.username}')">
      <div class="Mention-Avatar">${u.username[0]}</div>
      ${u.username}
    </div>
  `).join('');
  
  mentionList.classList.add('active');
}

function hideSuggestions() {
  mentionList.classList.remove('active');
}

function insertMention(name) {
  const value = inputField.value;
  const cursor = inputField.selectionStart;
  const textBefore = value.slice(0, cursor);
  const textAfter = value.slice(cursor);
  
  // Replace the partial @word with the full @Name
  const words = textBefore.split(/\s+/);
  words.pop(); // Remove the partial word
  
  const newValue = words.join(' ') + (words.length > 0 ? ' ' : '') + '@' + name + ' ' + textAfter;
  
  inputField.value = newValue;
  inputField.focus();
  hideSuggestions();
}

function formatMentions(text) {
  if (!text) return '';

  // 1. Sort users by length (Longest -> Shortest)
  // CRITICAL: We must match "Hoops Fan" before we match "Hoops", 
  // otherwise the regex will stop early and leave " Fan" as plain text.
  const sortedUsers = [...MOCK_USERS].sort((a, b) => b.username.length - a.username.length);

  // 2. Escape special characters for Regex safety
  const escapeRegex = (string) => string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');

  // 3. Build the Pattern
  // Creates a string like: (Hoops Fan|Net Ripper|Admin|...)
  const namesPattern = sortedUsers.map(u => escapeRegex(u.username)).join('|');

  // 4. Create Regex
  // @       -> Literal @ symbol
  // (...)   -> Capture group for the name
  // (?!\w)  -> Negative Lookahead: Ensure the next char is NOT a letter/number
  const regex = new RegExp(`@(${namesPattern})(?!\\w)`, 'gi');

  // 5. Perform Replacement
  return text.replace(regex, (fullMatch, capturedName) => {
    // 'capturedName' is what the user typed (e.g. "admin" or "Hoops fan")
    
    // Optional Polish: Look up the "Official" casing from the list
    // (So if they typed "@admin", we render "Admin")
    const officialUser = MOCK_USERS.find(u => u.username.toLowerCase() === capturedName.toLowerCase());
    const displayName = officialUser ? officialUser.username : capturedName;

    return `<span class="Mention-Badge">@${displayName}</span>`;
  });
}

/* LOGIN */

function openLoginModal() {
  scrollPosition = window.scrollY;
  
  const overlay = document.getElementById('loginOverlay');
  overlay.classList.add('open');
  
  document.body.classList.add('drawer-open');
  document.body.style.top = `-${scrollPosition}px`;
}

function closeLoginModal(event) {
  if (event && !event.target.classList.contains('Modal-Overlay')) {
    return;
  }

  const overlay = document.getElementById('loginOverlay');
  overlay.classList.remove('open');
  
  document.body.classList.remove('drawer-open');
  document.body.style.top = '';
  window.scrollTo(0, scrollPosition);
}

function authedUserDisplay() {
    /*
    const loginBtn = document.querySelector('.Login-Trigger');
    
    loginBtn.innerHTML = `<i class="fa-solid fa-circle-check" style="color:#2ed573"></i> ${AUTHED_USER.username}`;
    
    loginBtn.style.cursor = 'default';
    loginBtn.style.borderColor = '#2ed573'; 
    loginBtn.style.background = 'rgba(46, 213, 115, 0.1)'; 
    
    loginBtn.onclick = null;
    */

    document.getElementById('loginBtn').style.display = 'none';
    document.getElementById('userMenu').style.display = 'block';
    document.getElementById('userDisplay').innerText = AUTHED_USER.username;
   
    // TODO: only if admin
    if (AUTHED_USER.username === 'fearthebeak') {
      const deleteCommentBtns = document.querySelectorAll('.delete-btn');
      deleteCommentBtns.forEach( (btn) => {
        btn.style.display = 'flex';
      });
    }
}

async function handleLogin(event) {
  event.preventDefault(); 
  
  const usernameInput = document.getElementById('username');
  const passwordInput = document.getElementById('password');
  
  const userIn = usernameInput.value;
  const passIn = passwordInput.value;
 
  /*
  const { data, error } = await db_client
    .rpc('check_password', { 
      input_username: userIn, 
      input_password: passIn, 
    });
  */
  const { data, error } = await db_client.auth.signInWithPassword({
    email: userIn,
    password: passIn,
  });
  
  if (error) {
    alert("Invalid Credentials. Please try again.");
    console.error('Error:', error);
    passwordInput.value = '';
    return;
  }

  AUTHED_USER = data?.user?.user_metadata;

  authedUserDisplay();

  closeLoginModal();
      
  usernameInput.value = '';
  passwordInput.value = '';
}

function toggleAuthMode(mode) {
  const slider = document.getElementById('authSlider');
  const box = document.querySelector('.Auth-Box');
  
  if (mode === 'signup') {
    slider.classList.remove('show-login');
    slider.classList.add('show-signup');
    // Optional: Adjust height if signup form is taller
    // box.style.height = '450px'; 
    box.style.height = '600px';
  } else {
    slider.classList.remove('show-signup');
    slider.classList.add('show-login');
    // box.style.height = '380px';
    box.style.height = '420px';
  }
}

function toggleUserDropdown(event) {
  // Prevent the click from immediately bubbling up and closing the menu
  if (event) event.stopPropagation();

  const menu = document.getElementById('userDropdown');
  const isActive = menu.classList.contains('active');

  if (isActive) {
    closeDropdown();
  } else {
    menu.classList.add('active');
    // Add the "click out" listener only when the menu is open
    document.addEventListener('click', closeDropdownOnClickOutside);
  }
}

function closeDropdown() {
  const menu = document.getElementById('userDropdown');
  if (menu) {
    menu.classList.remove('active');
    // Clean up the listener so it doesn't fire unnecessarily
    document.removeEventListener('click', closeDropdownOnClickOutside);
  }
}

function closeDropdownOnClickOutside(event) {
  const menu = document.getElementById('userDropdown');
  const trigger = document.querySelector('.User-Trigger');

  // If the click is NOT inside the menu AND NOT on the trigger button
  if (menu && !menu.contains(event.target) && !trigger.contains(event.target)) {
    closeDropdown();
  }
}

async function handleSignup(event) {
  event.preventDefault();
  clearSignupError();

  const newUsername = document.getElementById('new-username').value;
  const newEmail = document.getElementById('new-email').value;
  const newPassword = document.getElementById('new-password').value;
  const referralCode = document.getElementById('new-referral').value;

  if (password.length < 8) {
    showSignupError("Password must be at least 8 characters.");
    document.getElementById('new-password').classList.add('input-invalid');
    return;
  }

  if (referralCode.length < 6) {
    showSignupError("Referral code must be at least 6 characters.");
    document.getElementById('new-referral').classList.add('input-invalid');
    return;
  }

  const accountCreated = await signUpWithReferral(newEmail, newPassword, newUsername, referralCode);

  if (accountCreated) {

  // 1. Get the form container and success container
  const formContent = document.getElementById('signup-content');
  const successContent = document.getElementById('signup-success');
  
  // 2. Validate (The 'required' attribute handles empty fields, 
  // but you can add specific logic here if needed)
  const referral = document.getElementById('new-referral').value;
  
  // Example: Check specific code (Optional)
  // if (referral !== 'ARCHSTEP') { alert('Invalid Code'); return; }

  // 3. Simulate API Call / Processing
  const btn = event.target.querySelector('button');
  const originalText = btn.innerText;
  btn.innerText = "Creating...";
  
  setTimeout(() => {
    // 4. Hide Form, Show Success
    formContent.style.display = 'none';
    successContent.style.display = 'flex';
    const box = document.querySelector('.Auth-Box');
    box.style.height = '420px';
    
    // Reset button text for next time
    btn.innerText = originalText;
    
    // Clear inputs (Security/Polish)
    document.getElementById('new-username').value = '';
    document.getElementById('new-email').value = '';
    document.getElementById('new-password').value = '';
    document.getElementById('new-referral').value = '';
    document.getElementById('new-referral').classList.remove('input-invalid');
    
  }, 1000); // Fake delay for realism
  }
}

async function signUpWithReferral(email, password, username, referralCode) { 
  const { data: validCode, codeError } = await db_client
    .rpc('check_referral_code', { input_code: referralCode });

  if (!validCode) {
    showSignupError("Invalid referral code. Please contact a founding ArchStepBoyz member.");
    document.getElementById('new-referral').classList.add('input-invalid');
    return false; 
  }

  const { data, error } = await db_client.auth.signUp({
    email: email,
    password: password,
    options: {
      data: {
        username: username,
        referral_code: referralCode 
      },
      redirectTo: 'https://archstepboyz.github.io/archstepboyz',
    }
  });

  if (error) {
    return false;
  } else {
    return true;
  }
}

function resetSignupView() {
  closeLoginModal();
  
  setTimeout(() => {
    document.getElementById('signup-content').style.display = 'block';
    document.getElementById('signup-success').style.display = 'none';
    toggleAuthMode('login'); 
  }, 300);
}

function showSignupError(message) {
  const errorBox = document.getElementById('signup-error-msg');
  errorBox.innerText = message;
  errorBox.style.display = 'block';
  
  // Re-trigger animation if it's already visible
  errorBox.style.animation = 'none';
  errorBox.offsetHeight; /* trigger reflow */
  errorBox.style.animation = null; 
}

function clearSignupError() {
  const errorBox = document.getElementById('signup-error-msg');
  errorBox.style.display = 'none';
  errorBox.innerText = '';
}

function validateInputs() {
  const codeEl = document.getElementById('new-referral');
  const code = codeEl.value.trim(); 
  if (code.length > 0 && code.length < 6) {
    codeEl.classList.add('input-invalid');
    showSignupError("Referral code must be at least 6 characters.");
    return false;
  }
  const errorBox = document.getElementById('signup-error-msg');
  if (errorBox.innerText.includes("Password")) {
    clearSignupError();
  }
  
  const passEl = document.getElementById('new-password');
  const pass = passEl.value.trim();
  if (pass.length > 0 && pass.length < 8) {
    passEl.classList.add('input-invalid');
    showSignupError("Password must be at least 8 characters.");
    return false;
  }
  passEl.classList.remove('input-invalid');

  if (errorBox.innerText.includes("Password")) {
    clearSignupError();
  }

  return true;
}

async function handleLogout() {
  const { error } = await db_client.auth.signOut();

  if (error) {
    console.error('Error signing out:', error.message);
  } else {
    document.getElementById('userMenu').style.display = 'none';
    document.getElementById('loginBtn').style.display = 'flex';
    document.getElementById('userDropdown').classList.remove('active');
    AUTHED_USER = null;  // TODO: don't rely on this global
  }
}

async function forgotPassword() {
  return;
  
  /*
  const { error } = await db_client.auth.resetPasswordForEmail("", {
    redirectTo: 'https://archstepboyz.github.io/archstepboyz', 
  });

  if (error) {
    console.error('Error sending password reset email:', error.message);
    alert('Failed to send reset email. Please check your email address.');
  } else {
    alert('Password reset email sent. Check your inbox!');
  }
  */
  
}
forgotPassword();

</script>
</html>
